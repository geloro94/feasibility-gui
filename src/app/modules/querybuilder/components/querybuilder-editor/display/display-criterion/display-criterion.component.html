<mat-accordion>
  <mat-expansion-panel fxFill class="mat-elevation-z4 border-design">
    <mat-expansion-panel-header>
      <mat-panel-title fxFlex="60">
        <div *ngIf="isinvalid">
          <div class="invalid-Criterion">
            <img src="assets/img/alert.png" alt="Validation Alert" />
          </div>
        </div>
        {{ criterion.display }}
      </mat-panel-title>
      <mat-panel-description fxLayoutAlign="end">
        <button *ngIf="showCancelButton" type="button" mat-icon-button (click)="doDelete()">
          <fa-icon size="sm" icon="trash"></fa-icon>
        </button>
        <button *ngIf="showCancelButton" type="button" mat-icon-button (click)="openDetailsPopUp()">
          <fa-icon size="sm" icon="edit"></fa-icon>
        </button>
      </mat-panel-description>
    </mat-expansion-panel-header>
    <hr />
    <div *ngIf="criterion.timeRestriction?.minDate" class="margin-bottom-1">
      <num-display-time-restriction
        *ngIf="featureService.useFeatureTimeRestriction()"
        [timeRestriction]="criterion.timeRestriction"
      >
      </num-display-time-restriction>
    </div>
    <num-concept
      *ngIf="attributeDefinitionConcepts"
      [selectedConcepts]="attributeDefinitionConcepts"
    ></num-concept>
    <num-concept
      *ngIf="valueDefinitionConcepts"
      [selectedConcepts]="valueDefinitionConcepts"
    ></num-concept>
    <ng-container *ngIf="searchType === 'querybuilder'">
      <div
        *ngIf="criterion.linkedCriteria.length > 0"
        class="mat-elevation-z4 padding-top-2 border-design-concept"
      >
        <div class="mat-elevation-z4 padding-top-2 border-design-concept">
          {{ 'QUERYBUILDER.DISPLAY.REFERENCED_CRITERIA' | translate }}
        </div>
        <num-display-linked-criterion
          *ngFor="let linkedCrit of criterion.linkedCriteria"
          [criterion]="linkedCrit"
        ></num-display-linked-criterion>
      </div>
    </ng-container>
  </mat-expansion-panel>
</mat-accordion>
